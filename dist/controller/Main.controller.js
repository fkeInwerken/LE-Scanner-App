sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel"],function(n,e){"use strict";return n.extend("inw.le_scanner.controller.Main",{onInit:function(){const n=new e({istLagereinheitBarcode:"",istLagerplatzBarcode:"",sollLagereinheitBarcode:"",TANummer:"",anzahlPositionen:"",appVersion:this.getOwnerComponent().getManifestEntry("sap.app").applicationVersion.version});this.setModel(n,"viewModel");const t=this.byId("istLagereinheitBarcode");const o=this.byId("istLagerplatzBarcode");const s=this.byId("sollLagereinheitBarcode");const i=[t,o,s];this.aInputs=[t,o,s];this.aInputs.forEach((n,e)=>{n.attachLiveChange(()=>this._handleInputChange(e))});i.forEach(n=>{n.addEventDelegate({onAfterRendering:function(){const e=n.getDomRef("inner");if(e){}}})});document.addEventListener("keydown",this.onKeyDown.bind(this))},onKeyDown:function(n){const e=n.key;const t=this._getFocusedInputIndex();switch(e){case"DPAD_UP":this.onArrowUp(t);break;case"ArrowUp":this.onArrowUp(t);break;case"DPAD_DOWN":if(t===-1){this.aInputs[0].focus();return}this.onArrowDown(t);break;case"ArrowDown":if(t===-1){this.aInputs[0].focus();return}this.onArrowDown(t);break;case"DPAD_LEFT":this.onArrowLeft();break;case"DPAD_RIGHT":this.onArrowRight();break;case"Enter":this.onEnter();break;case"TRIGGER":this.onTrigger();break;case"P1":this.onP1();break;case"P2":this.onP2();break;default:}},onArrowUp:function(n){if(n>0){const e=this.aInputs[n-1];e.focus();this._selectInputText(e)}},onArrowDown:function(n){if(n<this.aInputs.length-1){const e=this.aInputs[n+1];e.focus();this._selectInputText(e)}},onEnter:function(){const n=this.byId("buchenButton");if(n){n.firePress()}},onFocus:async function(n){const e=n.srcControl;const t=e.getDomRef("inner");if(t){t.select()}},onKeyboardAction:async function(n){const e=n.getSource();const t=this.byId(e.data("inputId"));const o=t.getDomRef("inner");if(o){await t.focus()}},onBuchenPress:function(){sap.m.MessageToast.show("Erfolgreich gebucht!",{width:"15em",my:"center center",at:"center center"})},_getFocusedInputIndex:function(){const n=document.activeElement.id;const e=n.replace(/-inner$/,"");return this.aInputs.findIndex(n=>n.getId()===e)},_selectInputText:function(n){setTimeout(()=>{const e=n.getDomRef("inner");if(e){e.setSelectionRange(0,e.value.length)}},0)},_handleInputChange:function(n){const e=this.aInputs[n];if(e.getValue()){const e=this.aInputs[n+1];if(e){e.focus()}}}})});
//# sourceMappingURL=Main.controller.js.map